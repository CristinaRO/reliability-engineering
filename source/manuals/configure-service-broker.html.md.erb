---
title: How to monitor your PaaS app with Prometheus
---

# <%= current_page.data.title %>

[Prometheus][] uses service discovery to decide what it monitors, so for apps running on [GOV.UK PaaS][] you'll need to:

1. Grant Prometheus read-only access to your PaaS spaces.
2. Bind your apps to the Prometheus service.

### Grant Prometheus read-only access to your PaaS spaces

By giving the `prometheus-for-paas` user the [SpaceAuditor][] role you allow it to monitor each instance of your app and respond to events (for example: start, stop, scaling).

`cf set-space-role prometheus-for-paas@digital.cabinet-office.gov.uk <org-name> <space-name> SpaceAuditor`

### Bind your apps to the Prometheus service

You can find Prometheus in the PaaS marketplace.

```
‚ùØ cf marketplace
service          plans        description
gds-prometheus   prometheus   GDS internal Prometheus monitoring alpha https://reliability-engineering.cloudapps.digital/#metrics
```

If you're unable to see `gds-prometheus` in the output of `cf marketplace` please contact us through the [#re-prometheus-support Slack channel].

You can create a Prometheus service within your PaaS space and allow it to bind to apps running there.  You can do this by following these steps:

1. Create a Prometheus service instance in each space you have Prometheus instrumented apps deployed
  - `cf create-service gds-prometheus prometheus <service-instance-name>`
2. Either [update your app's manifest.yml] to bind your new service or bind it using the CLI
  - `cf bind-service <app-name> <service-instance-name>`

Within 5 minutes Prometheus will start scraping your application for metrics, you can validate this by checking [Grafana](https://grafana-paas.cloudapps.digital).


[#re-prometheus-support Slack channel]: https://gds.slack.com/messages/CAF5H4N4Q/
[update your app's manifest.yml]: https://docs.cloudfoundry.org/devguide/deploy-apps/manifest.html#services-block
[GOV.UK PaaS]: https://www.cloud.service.gov.uk/
[Prometheus]: https://prometheus.io/
[SpaceAuditor]: https://docs.cloud.service.gov.uk/#metrics
